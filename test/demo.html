<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
  "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<title>Constellation - Pilot</title>
	<style>
	body {
		margin: 0;
		position: relative;
	}
	
	.pilot {
		background-color: #f00;
		border: 1px solid #000;
		border-radius: 50%;
		display: block;
		height: 10px;
		left: 75px;
		position: absolute;
		top: 0;
		width: 10px;
	}
	</style>
	<script>function define() {}</script>
</head>
<body>
	
	<div class="pilot" id="pilot"></div>

<script src="../src/js/lib/jquery.js"></script>
<script src="../constellation.js"></script>
<script>
	var $pilot = $("#pilot");
	var grid = new Const.Grid();
	var a = grid.addNode(100, 100).id;
	var b = grid.addNode(600, 400).id;
	grid.joinNodes(a, b);
	
	$(document).click(function(evt) {
		var px = parseInt($pilot.css('left').match(/\d+/g), 10);
		var py = parseInt($pilot.css('top').match(/\d+/g), 10);
		var path = grid.bridgePoints({x:px, y:py}, {x:evt.pageX, y:evt.pageY});
		
		$.each(path, function(i, pt) {
			$pilot.animate({
				left: pt.x,
				top: pt.y
			});
		});
	});
	
</script>
</body>
</html>
