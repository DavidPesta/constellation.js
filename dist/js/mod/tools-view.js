define(["lib/jquery","lib/backbone","mod/grid-model","mod/grid-controller","mod/tools-keyboard"],function(e,t,n,r,i){var s=t.View.extend({el:"#tools",model:n,events:{"click button.action":"performTask","click .toggle-menu h2":"toggleMenu","blur #view-width":"setFrame","blur #view-height":"setFrame"},initialize:function(){var t=this;this.$width=e("#view-width"),this.$height=e("#view-height"),this.update()},render:function(){},performTask:function(e){var t=e.target.className.replace(/action|\s/g,"");switch(t){case"join":r.joinNodes();break;case"split":r.splitNodes();break;case"polygon":r.joinNodes();break;case"delete":r.deleteGeometry()}},toggleMenu:function(t){var n=e(t.target).closest(".toggle-menu").toggleClass("open");e(".toggle-menu").not(n).removeClass("open")},setFrame:function(){n.set({width:parseInt(this.$width.val(),10)||"",height:parseInt(this.$height.val(),10)||""}),this.update()},update:function(){this.$width.val(this.model.get("width")),this.$height.val(this.model.get("height"))}});return new s})