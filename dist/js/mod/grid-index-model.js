define(["lib/Backbone","mod/grid-model"],function(e,t){var n=e.Collection.extend({localStorage:new e.LocalStorage("constellation.index"),initialize:function(){t.on("new",this.newRecord,this)},reset:function(){e.Collection.prototype.reset.apply(this,arguments),t.defaults.id=0,this.each(function(e){t.defaults.id=Math.max(t.defaults.id,e.id+1)},this)},newRecord:function(){this.create({id:t.get("id"),name:t.get("name")})}});return new n})